<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TheAlgorithms/C++: divide_and_conquer/karatsuba_algorithm_for_fast_multiplication.cpp File Reference</title>
<link rel="icon" href="../../favicon.svg" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@xpack-3rd-party/doxygen-awesome-css@2.2.0-1/doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/ams']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','ams']
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../project_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">TheAlgorithms/C++<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">All the algorithms implemented in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">karatsuba_algorithm_for_fast_multiplication.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of the <a href="https://en.wikipedia.org/wiki/Karatsuba_algorithm" target="_blank">Karatsuba algorithm for fast multiplication</a>  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for karatsuba_algorithm_for_fast_multiplication.cpp:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d0/d2c/karatsuba__algorithm__for__fast__multiplication_8cpp__incl.svg" width="336" height="140"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dba/namespacedivide__and__conquer.html">divide_and_conquer</a></td></tr>
<tr class="memdesc:dd/dba/namespacedivide__and__conquer"><td class="mdescLeft">&#160;</td><td class="mdescRight">for std::vector <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d41/namespacekaratsuba__algorithm.html">karatsuba_algorithm</a></td></tr>
<tr class="memdesc:de/d41/namespacekaratsuba__algorithm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions for the <a href="https://en.wikipedia.org/wiki/Karatsuba_algorithm" target="_blank">Karatsuba algorithm for fast multiplication</a> implementation. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad76f5cac3ef8dc034f6abb99b64c2b20" id="r_ad76f5cac3ef8dc034f6abb99b64c2b20"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad76f5cac3ef8dc034f6abb99b64c2b20">divide_and_conquer::karatsuba_algorithm::add_strings</a> (std::string first, std::string second)</td></tr>
<tr class="memdesc:ad76f5cac3ef8dc034f6abb99b64c2b20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binary addition.  <br /></td></tr>
<tr class="separator:ad76f5cac3ef8dc034f6abb99b64c2b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad9e3edfe156b59fc06a5585403fe0d6" id="r_aad9e3edfe156b59fc06a5585403fe0d6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad9e3edfe156b59fc06a5585403fe0d6">divide_and_conquer::karatsuba_algorithm::safe_substr</a> (const std::string &amp;str, int64_t x1, int64_t x2, int64_t n)</td></tr>
<tr class="memdesc:aad9e3edfe156b59fc06a5585403fe0d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper function for substr that considers leading zeros.  <br /></td></tr>
<tr class="separator:aad9e3edfe156b59fc06a5585403fe0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a890d2f26855ada3b9f1d43aec70a86" id="r_a7a890d2f26855ada3b9f1d43aec70a86"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a890d2f26855ada3b9f1d43aec70a86">divide_and_conquer::karatsuba_algorithm::karatsuba_algorithm</a> (std::string str1, std::string str2)</td></tr>
<tr class="memdesc:a7a890d2f26855ada3b9f1d43aec70a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main function implements Karatsuba's algorithm for fast multiplication.  <br /></td></tr>
<tr class="separator:a7a890d2f26855ada3b9f1d43aec70a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8dca7b867074164d5f45b0f3851269d" id="r_aa8dca7b867074164d5f45b0f3851269d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8dca7b867074164d5f45b0f3851269d">test</a> ()</td></tr>
<tr class="memdesc:aa8dca7b867074164d5f45b0f3851269d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Self-test implementations.  <br /></td></tr>
<tr class="separator:aa8dca7b867074164d5f45b0f3851269d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4" id="r_ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function.  <br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the <a href="https://en.wikipedia.org/wiki/Karatsuba_algorithm" target="_blank">Karatsuba algorithm for fast multiplication</a> </p>
<p>Given two strings in binary notation we want to multiply them and return the value. Simple approach is to multiply bits one by one which will give the time complexity of around O(n^2). To make it more efficient we will be using Karatsuba algorithm to find the product which will solve the problem O(nlogn) of time. </p><dl class="section author"><dt>Author</dt><dd><a href="https://github.com/Swastyy" target="_blank">Swastika Gupta</a> </dd>
<dd>
<a href="https://github.com/poypoyan" target="_blank">Ameer Carlo Lubang</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html">karatsuba_algorithm_for_fast_multiplication.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad76f5cac3ef8dc034f6abb99b64c2b20" name="ad76f5cac3ef8dc034f6abb99b64c2b20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad76f5cac3ef8dc034f6abb99b64c2b20">&#9670;&#160;</a></span>add_strings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string divide_and_conquer::karatsuba_algorithm::add_strings </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>first</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>second</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Binary addition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first,the</td><td>input string 1 </td></tr>
    <tr><td class="paramname">second,the</td><td>input string 2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the sum binary string </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html#l00037">37</a> of file <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html">karatsuba_algorithm_for_fast_multiplication.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   37</span>                                                         {</div>
<div class="line"><span class="lineno">   38</span>    std::string <a class="code hl_function" href="../../de/dc3/fibonacci__sum_8cpp.html#aadb40ac4c74a7efc0680b83eeee138aa">result</a>;  <span class="comment">// to store the resulting sum bits</span></div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    <span class="comment">// make the string lengths equal</span></div>
<div class="line"><span class="lineno">   41</span>    int64_t len1 = first.size();</div>
<div class="line"><span class="lineno">   42</span>    int64_t len2 = second.size();</div>
<div class="line"><span class="lineno">   43</span>    std::string zero = <span class="stringliteral">&quot;0&quot;</span>;</div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">if</span> (len1 &lt; len2) {</div>
<div class="line"><span class="lineno">   45</span>        <span class="keywordflow">for</span> (int64_t i = 0; i &lt; len2 - len1; i++) {</div>
<div class="line"><span class="lineno">   46</span>            zero += first;</div>
<div class="line"><span class="lineno">   47</span>            first = zero;</div>
<div class="line"><span class="lineno">   48</span>            zero = <span class="stringliteral">&quot;0&quot;</span>; <span class="comment">// Prevents CI from failing</span></div>
<div class="line"><span class="lineno">   49</span>        }</div>
<div class="line"><span class="lineno">   50</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (len1 &gt; len2) {</div>
<div class="line"><span class="lineno">   51</span>        <span class="keywordflow">for</span> (int64_t i = 0; i &lt; len1 - len2; i++) {</div>
<div class="line"><span class="lineno">   52</span>            zero += second;</div>
<div class="line"><span class="lineno">   53</span>            second = zero;</div>
<div class="line"><span class="lineno">   54</span>            zero = <span class="stringliteral">&quot;0&quot;</span>; <span class="comment">// Prevents CI from failing</span></div>
<div class="line"><span class="lineno">   55</span>        }</div>
<div class="line"><span class="lineno">   56</span>    }</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>    int64_t length = std::max(len1, len2);</div>
<div class="line"><span class="lineno">   59</span>    int64_t carry = 0;</div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">for</span> (int64_t i = length - 1; i &gt;= 0; i--) {</div>
<div class="line"><span class="lineno">   61</span>        int64_t firstBit = first.at(i) - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><span class="lineno">   62</span>        int64_t secondBit = second.at(i) - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>        int64_t <a class="code hl_function" href="../../d8/d77/namespacemachine__learning.html#a6f1c98c016ad34ff3d9f39372161bd35">sum</a> = (char(firstBit ^ secondBit ^ carry)) + <span class="charliteral">&#39;0&#39;</span>;  <span class="comment">// sum of 3 bits</span></div>
<div class="line"><span class="lineno">   65</span>        <a class="code hl_function" href="../../de/dc3/fibonacci__sum_8cpp.html#aadb40ac4c74a7efc0680b83eeee138aa">result</a>.insert(<a class="code hl_function" href="../../de/dc3/fibonacci__sum_8cpp.html#aadb40ac4c74a7efc0680b83eeee138aa">result</a>.begin(), sum);</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>        carry = char((firstBit &amp; secondBit) | (secondBit &amp; carry) |</div>
<div class="line"><span class="lineno">   68</span>                (firstBit &amp; carry));  <span class="comment">// sum of 3 bits</span></div>
<div class="line"><span class="lineno">   69</span>    }</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">if</span> (carry) {</div>
<div class="line"><span class="lineno">   72</span>        <a class="code hl_function" href="../../de/dc3/fibonacci__sum_8cpp.html#aadb40ac4c74a7efc0680b83eeee138aa">result</a>.insert(<a class="code hl_function" href="../../de/dc3/fibonacci__sum_8cpp.html#aadb40ac4c74a7efc0680b83eeee138aa">result</a>.begin(), <span class="charliteral">&#39;1&#39;</span>);  <span class="comment">// adding 1 incase of overflow</span></div>
<div class="line"><span class="lineno">   73</span>    }</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="../../de/dc3/fibonacci__sum_8cpp.html#aadb40ac4c74a7efc0680b83eeee138aa">result</a>;</div>
<div class="line"><span class="lineno">   75</span>}</div>
<div class="ttc" id="afibonacci__sum_8cpp_html_aadb40ac4c74a7efc0680b83eeee138aa"><div class="ttname"><a href="../../de/dc3/fibonacci__sum_8cpp.html#aadb40ac4c74a7efc0680b83eeee138aa">math::fibonacci_sum::result</a></div><div class="ttdeci">uint64_t result(uint64_t n)</div><div class="ttdef"><b>Definition</b> <a href="../../de/dc3/fibonacci__sum_8cpp_source.html#l00077">fibonacci_sum.cpp:77</a></div></div>
<div class="ttc" id="anamespacemachine__learning_html_a6f1c98c016ad34ff3d9f39372161bd35"><div class="ttname"><a href="../../d8/d77/namespacemachine__learning.html#a6f1c98c016ad34ff3d9f39372161bd35">machine_learning::sum</a></div><div class="ttdeci">T sum(const std::vector&lt; std::valarray&lt; T &gt; &gt; &amp;A)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d95/vector__ops_8hpp_source.html#l00232">vector_ops.hpp:232</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a890d2f26855ada3b9f1d43aec70a86" name="a7a890d2f26855ada3b9f1d43aec70a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a890d2f26855ada3b9f1d43aec70a86">&#9670;&#160;</a></span>karatsuba_algorithm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t divide_and_conquer::karatsuba_algorithm::karatsuba_algorithm </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>str1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>str2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main function implements Karatsuba's algorithm for fast multiplication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str1</td><td>the input string 1 </td></tr>
    <tr><td class="paramname">str2</td><td>the input string 2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the product number value </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html#l00112">112</a> of file <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html">karatsuba_algorithm_for_fast_multiplication.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  112</span>                                                            {</div>
<div class="line"><span class="lineno">  113</span>    int64_t len1 = str1.size();</div>
<div class="line"><span class="lineno">  114</span>    int64_t len2 = str2.size();</div>
<div class="line"><span class="lineno">  115</span>    int64_t n = std::max(len1, len2);</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">if</span> (n == 0) {</div>
<div class="line"><span class="lineno">  118</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  119</span>    }</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">if</span> (n == 1) {</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">return</span> (str1[0] - <span class="charliteral">&#39;0&#39;</span>) * (str2[0] - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><span class="lineno">  122</span>    }</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>    int64_t fh = n / 2;     <span class="comment">// first half of string</span></div>
<div class="line"><span class="lineno">  125</span>    int64_t sh = n - fh;  <span class="comment">// second half of string</span></div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    std::string Xl = <a class="code hl_function" href="#aad9e3edfe156b59fc06a5585403fe0d6">divide_and_conquer::karatsuba_algorithm::safe_substr</a>(str1, 0, fh, n);   <span class="comment">// first half of first string</span></div>
<div class="line"><span class="lineno">  128</span>    std::string Xr = <a class="code hl_function" href="#aad9e3edfe156b59fc06a5585403fe0d6">divide_and_conquer::karatsuba_algorithm::safe_substr</a>(str1, fh, sh, n);  <span class="comment">// second half of first string</span></div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    std::string Yl = <a class="code hl_function" href="#aad9e3edfe156b59fc06a5585403fe0d6">divide_and_conquer::karatsuba_algorithm::safe_substr</a>(str2, 0, fh, n);   <span class="comment">// first half of second string</span></div>
<div class="line"><span class="lineno">  131</span>    std::string Yr = <a class="code hl_function" href="#aad9e3edfe156b59fc06a5585403fe0d6">divide_and_conquer::karatsuba_algorithm::safe_substr</a>(str2, fh, sh, n);  <span class="comment">// second half of second string</span></div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    <span class="comment">// calculating the three products of inputs of size n/2 recursively</span></div>
<div class="line"><span class="lineno">  134</span>    int64_t product1 = <a class="code hl_namespace" href="../../de/d41/namespacekaratsuba__algorithm.html">karatsuba_algorithm</a>(Xl, Yl);</div>
<div class="line"><span class="lineno">  135</span>    int64_t product2 = <a class="code hl_namespace" href="../../de/d41/namespacekaratsuba__algorithm.html">karatsuba_algorithm</a>(Xr, Yr);</div>
<div class="line"><span class="lineno">  136</span>    int64_t product3 = <a class="code hl_namespace" href="../../de/d41/namespacekaratsuba__algorithm.html">karatsuba_algorithm</a>(</div>
<div class="line"><span class="lineno">  137</span>        divide_and_conquer::karatsuba_algorithm::add_strings(Xl, Xr),</div>
<div class="line"><span class="lineno">  138</span>        divide_and_conquer::karatsuba_algorithm::add_strings(Yl, Yr));</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">return</span> product1 * (1 &lt;&lt; (2 * sh)) +</div>
<div class="line"><span class="lineno">  141</span>           (product3 - product1 - product2) * (1 &lt;&lt; sh) +</div>
<div class="line"><span class="lineno">  142</span>           product2;  <span class="comment">// combining the three products to get the final result.</span></div>
<div class="line"><span class="lineno">  143</span>}</div>
<div class="ttc" id="akaratsuba__algorithm__for__fast__multiplication_8cpp_html_aad9e3edfe156b59fc06a5585403fe0d6"><div class="ttname"><a href="#aad9e3edfe156b59fc06a5585403fe0d6">divide_and_conquer::karatsuba_algorithm::safe_substr</a></div><div class="ttdeci">std::string safe_substr(const std::string &amp;str, int64_t x1, int64_t x2, int64_t n)</div><div class="ttdoc">Wrapper function for substr that considers leading zeros.</div><div class="ttdef"><b>Definition</b> <a href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html#l00086">karatsuba_algorithm_for_fast_multiplication.cpp:86</a></div></div>
<div class="ttc" id="anamespacekaratsuba__algorithm_html"><div class="ttname"><a href="../../de/d41/namespacekaratsuba__algorithm.html">karatsuba_algorithm</a></div><div class="ttdoc">Functions for the Karatsuba algorithm for fast multiplication implementation.</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on exit </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html#l00181">181</a> of file <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html">karatsuba_algorithm_for_fast_multiplication.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span>           {</div>
<div class="line"><span class="lineno">  182</span>    <a class="code hl_function" href="#aa8dca7b867074164d5f45b0f3851269d">test</a>();  <span class="comment">// run self-test implementations</span></div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  184</span>}</div>
<div class="ttc" id="akaratsuba__algorithm__for__fast__multiplication_8cpp_html_aa8dca7b867074164d5f45b0f3851269d"><div class="ttname"><a href="#aa8dca7b867074164d5f45b0f3851269d">test</a></div><div class="ttdeci">static void test()</div><div class="ttdoc">Self-test implementations.</div><div class="ttdef"><b>Definition</b> <a href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html#l00151">karatsuba_algorithm_for_fast_multiplication.cpp:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad9e3edfe156b59fc06a5585403fe0d6" name="aad9e3edfe156b59fc06a5585403fe0d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad9e3edfe156b59fc06a5585403fe0d6">&#9670;&#160;</a></span>safe_substr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string divide_and_conquer::karatsuba_algorithm::safe_substr </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>x1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>x2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper function for substr that considers leading zeros. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str,the</td><td>binary input string. </td></tr>
    <tr><td class="paramname">x1,the</td><td>substr parameter integer 1 </td></tr>
    <tr><td class="paramname">x2,the</td><td>substr parameter integer 2 </td></tr>
    <tr><td class="paramname">n,is</td><td>the length of the "whole" string: leading zeros + str </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the "safe" substring for the algorithm <em>without</em> leading zeros </dd>
<dd>
"0" if substring spans to leading zeros only </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html#l00086">86</a> of file <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html">karatsuba_algorithm_for_fast_multiplication.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>                                                                               {</div>
<div class="line"><span class="lineno">   87</span>    int64_t len = str.size();</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">if</span> (len &gt;= n) {</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">return</span> str.substr(x1, x2);</div>
<div class="line"><span class="lineno">   91</span>    }</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>    int64_t y1 = x1 - (n - len);  <span class="comment">// index in str of first char of substring of &quot;whole&quot; string</span></div>
<div class="line"><span class="lineno">   94</span>    int64_t y2 = (x1 + x2 - 1) - (n - len);  <span class="comment">// index in str of last char of substring of &quot;whole&quot; string</span></div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> (y2 &lt; 0) {</div>
<div class="line"><span class="lineno">   97</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;0&quot;</span>;</div>
<div class="line"><span class="lineno">   98</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y1 &lt; 0) {</div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordflow">return</span> str.substr(0, y2 + 1);</div>
<div class="line"><span class="lineno">  100</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordflow">return</span> str.substr(y1, x2);</div>
<div class="line"><span class="lineno">  102</span>    }</div>
<div class="line"><span class="lineno">  103</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa8dca7b867074164d5f45b0f3851269d" name="aa8dca7b867074164d5f45b0f3851269d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8dca7b867074164d5f45b0f3851269d">&#9670;&#160;</a></span>test()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Self-test implementations. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html#l00151">151</a> of file <a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp_source.html">karatsuba_algorithm_for_fast_multiplication.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  151</span>                   {</div>
<div class="line"><span class="lineno">  152</span>    <span class="comment">// 1st test</span></div>
<div class="line"><span class="lineno">  153</span>    std::string s11 = <span class="stringliteral">&quot;1&quot;</span>;     <span class="comment">// 1</span></div>
<div class="line"><span class="lineno">  154</span>    std::string s12 = <span class="stringliteral">&quot;1010&quot;</span>;  <span class="comment">// 10</span></div>
<div class="line"><span class="lineno">  155</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;1st test... &quot;</span>;</div>
<div class="line"><span class="lineno">  156</span>    assert(divide_and_conquer::karatsuba_algorithm::karatsuba_algorithm(</div>
<div class="line"><span class="lineno">  157</span>               s11, s12) == 10);</div>
<div class="line"><span class="lineno">  158</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;passed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <span class="comment">// 2nd test</span></div>
<div class="line"><span class="lineno">  161</span>    std::string s21 = <span class="stringliteral">&quot;11&quot;</span>;    <span class="comment">// 3</span></div>
<div class="line"><span class="lineno">  162</span>    std::string s22 = <span class="stringliteral">&quot;1010&quot;</span>;  <span class="comment">// 10</span></div>
<div class="line"><span class="lineno">  163</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;2nd test... &quot;</span>;</div>
<div class="line"><span class="lineno">  164</span>    assert(divide_and_conquer::karatsuba_algorithm::karatsuba_algorithm(</div>
<div class="line"><span class="lineno">  165</span>               s21, s22) == 30);</div>
<div class="line"><span class="lineno">  166</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;passed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>    <span class="comment">// 3rd test</span></div>
<div class="line"><span class="lineno">  169</span>    std::string s31 = <span class="stringliteral">&quot;110&quot;</span>;   <span class="comment">// 6</span></div>
<div class="line"><span class="lineno">  170</span>    std::string s32 = <span class="stringliteral">&quot;1010&quot;</span>;  <span class="comment">// 10</span></div>
<div class="line"><span class="lineno">  171</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;3rd test... &quot;</span>;</div>
<div class="line"><span class="lineno">  172</span>    assert(divide_and_conquer::karatsuba_algorithm::karatsuba_algorithm(</div>
<div class="line"><span class="lineno">  173</span>               s31, s32) == 60);</div>
<div class="line"><span class="lineno">  174</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;passed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  175</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_93bc990c5cceb745f78af6949e9ef947.html">divide_and_conquer</a></li><li class="navelem"><a class="el" href="../../da/dd3/karatsuba__algorithm__for__fast__multiplication_8cpp.html">karatsuba_algorithm_for_fast_multiplication.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
